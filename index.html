<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sistema de Matrículas</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ===== Login / Cadastro ===== -->
  <div class="card" id="authCard">
    <h2>Acesso</h2>
    <div class="tabs">
      <button class="tab active" data-tab="login">Login</button>
      <button class="tab" data-tab="signup">Cadastro</button>
    </div>

    <!-- Login -->
    <div class="tabpanel" id="login">
      <form id="loginForm">
        <label>Email
          <input type="email" id="loginEmail" required />
        </label>
        <label>Senha
          <input type="password" id="loginPassword" required />
        </label>
        <button type="submit">Entrar</button>
        <button type="button" id="demoUser">Usar usuário demo</button>
        <div id="loginMsg" class="msg"></div>
      </form>
    </div>

    <!-- Cadastro -->
    <div class="tabpanel" id="signup" hidden>
      <form id="signupForm">
        <label>Nome
          <input type="text" id="suName" required />
        </label>
        <label>Email
          <input type="email" id="suEmail" required />
        </label>
        <label>Senha
          <input type="password" id="suPass" required />
        </label>
        <label>Confirmar senha
          <input type="password" id="suPass2" required />
        </label>
        <button type="submit">Criar conta</button>
        <div id="signupMsg" class="msg"></div>
      </form>
    </div>
  </div>

  <!-- ===== App ===== -->
  <div class="card" id="appCard" hidden>
    <header>
      <h2 id="helloUser"></h2>
      <button id="logout">Sair</button>
    </header>

    <div class="tabs">
      <button class="tab active" data-tab="cadastro">Cadastro</button>
      <button class="tab" data-tab="lista">Lista</button>
      <button class="tab" data-tab="historico">Histórico</button>
    </div>

    <!-- Cadastro -->
    <div class="tabpanel" id="cadastro">
      <form id="formMat">

        <fieldset>
          <legend>Dados do Aluno</legend>
          <div class="form-grid">
            <label>Nome completo
              <input type="text" id="aluno" required />
            </label>
            <label>Data de nascimento
              <input type="date" id="nascimento" required />
            </label>
            <label>Sexo
              <select id="sexo">
                <option value="">Selecione</option>
                <option value="M">Masculino</option>
                <option value="F">Feminino</option>
              </select>
            </label>
            <label>Nº Matrícula
              <input type="text" id="numero" required />
            </label>
            <label>Data
              <input type="date" id="data" />
            </label>
            <label>Turma / Série
              <input type="text" id="turma" />
            </label>
            <label>Escola anterior (opcional)
              <input type="text" id="escolaAnterior" />
            </label>
          </div>
        </fieldset>

        <fieldset>
          <legend>Dados do Responsável</legend>
          <div class="form-grid">
            <label>Nome completo
              <input type="text" id="responsavel" required />
            </label>
            <label>Parentesco
              <input type="text" id="parentesco" placeholder="Pai, mãe, etc." />
            </label>
            <label>Telefone celular
              <input type="tel" id="telResponsavel" required />
            </label>
            <label>Email
              <input type="email" id="emailResponsavel" />
            </label>
            <label>Endereço (opcional)
              <input type="text" id="enderecoResponsavel" />
            </label>
          </div>
        </fieldset>

        <fieldset>
          <legend>Contatos e Saúde</legend>
          <div class="form-grid">
            <label>Telefone adicional
              <input type="tel" id="telAdicional" />
            </label>
            <label>Alergia?
              <select id="alergia">
                <option value="nao">Não</option>
                <option value="sim">Sim</option>
              </select>
            </label>
            <label>Se sim, qual?
              <input type="text" id="descAlergia" />
            </label>
            <label>Uso de medicamentos?
              <select id="medicamento">
                <option value="nao">Não</option>
                <option value="sim">Sim</option>
              </select>
            </label>
            <label>Se sim, quais?
              <input type="text" id="descMedicamento" />
            </label>
            <label>Necessidades especiais?
              <select id="necessidadeEspecial">
                <option value="nao">Não</option>
                <option value="sim">Sim</option>
              </select>
            </label>
            <label>Se sim, quais?
              <input type="text" id="descNecessidade" />
            </label>
          </div>
        </fieldset>

        <fieldset>
          <legend>Status e Documentos</legend>
          <div class="form-grid">
            <label>Status
              <select id="status">
                <option value="Ativa">Ativa</option>
                <option value="Transferida">Transferida</option>
                <option value="Cancelada">Cancelada</option>
              </select>
            </label>
            <label>Documento
              <input type="file" id="documento" />
            </label>
          </div>
        </fieldset>

        <button type="submit">Salvar</button>
      </form>
    </div>

    <!-- Lista -->
    <div class="tabpanel" id="lista" hidden>
      <h3>Registros</h3>
      <div class="filters">
        <input type="text" id="q" placeholder="Buscar aluno ou matrícula..." />
        <input type="date" id="dInicio" />
        <input type="date" id="dFim" />
        <input type="text" id="fTurma" placeholder="Turma" />
        <select id="fStatus">
          <option value="">Todos</option>
          <option value="Ativa">Ativa</option>
          <option value="Transferida">Transferida</option>
          <option value="Cancelada">Cancelada</option>
        </select>
        <button id="btnExport">Exportar CSV</button>
      </div>
      <table id="tbl">
        <thead>
          <tr>
            <th>Aluno</th>
            <th>Matrícula</th>
            <th>Data</th>
            <th>Turma</th>
            <th>Status</th>
            <th>Responsável</th>
            <th>Documento</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div id="count"></div>
    </div>

    <!-- Histórico -->
    <div class="tabpanel" id="historico" hidden>
      <h3>Histórico de Alterações</h3>
      <table>
        <thead>
          <tr>
            <th>Aluno</th>
            <th>Matrícula</th>
            <th>Turma</th>
            <th>Status</th>
            <th>Alterado em</th>
          </tr>
        </thead>
        <tbody id="tblHistorico"></tbody>
      </table>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
